{"assets":{"D59FAC45CC265F30D1B1839BDD005E2F":{"type":"texture","index":7,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":1920,"height":1080},"0692453855CA4D407D0D2576D60E93FC":{"type":"texture","index":4,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":834,"height":106},"4758112000765AEF2A9B1380525830A3":{"type":"texture","index":2,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":605,"height":50},"E9C660B73CB5E5573E8D11D72CD2B6E9":{"type":"texture","index":5,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":891,"height":106},"E57CD487CEE753D7D1019BC0C188C7AD":{"type":"texture","index":6,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":1014,"height":1015},"F9A0A76BAF2A9879A1DAA8312FE7E552":{"type":"texture","index":0,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":1920,"height":1080},"0BC9F9B51193D23588C13F90E0125123":{"type":"texture","index":1,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":1043,"height":1033},"D822240E157D5D5F9636EC2766305683":{"type":"texture","index":3,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":759,"height":593},"166B057C4E075DF7FAFA244B5FC6062C":{"type":"texture","index":8,"url":{"native":"assets\/44317E27-704E-4263-9174-303CD5506B93.pdf"},"width":1920,"height":1080}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":554.48492050170898,"pointY":554.999267578125},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"FF2A201B-569E-4706-B9E0-A8337DB531D2","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":912.51507949829102,"pointY":492.500732421875},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.89991625197070124,"pointY":0.48522239647475368}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":1,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":0},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":1,"beginTime":0,"to":{"scalar":1}},{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"forwards","duration":1,"autoreverses":false,"property":"hidden","to":{"scalar":false},"removedOnCompletion":true}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":505.51507949829102,"pointY":506.000732421875},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1015,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E57CD487CEE753D7D1019BC0C188C7AD"}]}]},"effects":[],"duration":1,"type":"buildIn","attributes":{"direction":0},"name":"apple:dissolve","objectID":"FF2A201B-569E-4706-B9E0-A8337DB531D2"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"class realtime_mutex ","targetRectangle":{"y":47.725105285644531,"x":50.132045745849609,"width":289.84716796875,"height":28}},{"text":"{","targetRectangle":{"y":75.725105285644531,"x":50.132045745849609,"width":13.80224609375,"height":28}},{"text":"   std::atomic_flag flag = ATOMIC_FLAG_INIT;","targetRectangle":{"y":103.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"public:","targetRectangle":{"y":159.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"    \/\/ Non-blocking try_lock for real-time contexts","targetRectangle":{"y":187.72510528564453,"x":50.132045745849609,"width":703.91455078125,"height":28}},{"text":"    bool try_lock() noexcept ","targetRectangle":{"y":215.72510528564453,"x":50.132045745849609,"width":400.26513671875,"height":28}},{"text":"    {","targetRectangle":{"y":243.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        \/\/ First test: cheap read-only check","targetRectangle":{"y":271.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"        if (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":299.72510528564453,"x":50.132045745849609,"width":690.1123046875,"height":28}},{"text":"            return false;  \/\/ Already locked","targetRectangle":{"y":327.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"       ","targetRectangle":{"y":355.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"        \/\/ Then test-and-set if the first test passed","targetRectangle":{"y":383.72510528564453,"x":50.132045745849609,"width":731.51904296875,"height":28}},{"text":"        return ! flag.test_and_set (std::memory_order_acquire);","targetRectangle":{"y":411.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"    }","targetRectangle":{"y":439.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    \/\/ Blocking lock with test, test-and-set optimization","targetRectangle":{"y":495.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"    void lock() noexcept ","targetRectangle":{"y":523.72510528564453,"x":50.132045745849609,"width":345.05615234375,"height":28}},{"text":"    {","targetRectangle":{"y":551.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        while (true)","targetRectangle":{"y":579.72510528564453,"x":50.132045745849609,"width":276.044921875,"height":28}},{"text":"        {","targetRectangle":{"y":607.72510528564453,"x":50.132045745849609,"width":124.22021484375,"height":28}},{"text":"           \/\/ Optimistically assume the lock is free on the first try","targetRectangle":{"y":635.72510528564453,"x":50.132045745849609,"width":952.35498046875,"height":28}},{"text":"           if (! flag.test_and_set (std::memory_order_acquire))","targetRectangle":{"y":663.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"                break;  \/\/ Successfully acquired the lock","targetRectangle":{"y":691.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"           \/\/ Wait for lock to be released without generating cache misses","targetRectangle":{"y":747.72510528564453,"x":50.132045745849609,"width":1021.3662109375,"height":28}},{"text":"            while (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":775.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"                CPU_PAUSE();  \/\/ CPU-specific pause instruction","targetRectangle":{"y":803.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"       }","targetRectangle":{"y":831.72510528564453,"x":50.132045745849609,"width":110.41796875,"height":28}},{"text":"    }","targetRectangle":{"y":859.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    void unlock() noexcept","targetRectangle":{"y":915.72510528564453,"x":50.132045745849609,"width":358.8583984375,"height":28}},{"text":"    {","targetRectangle":{"y":943.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        flag.clear (std::memory_order_release);","targetRectangle":{"y":971.72510528564453,"x":50.132045745849609,"width":648.70556640625,"height":28}},{"text":"    }","targetRectangle":{"y":999.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"};","targetRectangle":{"y":1027.7251052856445,"x":50.132045745849609,"width":27.6044921875,"height":28}},{"text":"(8) Lightning Talk_ A Spinlock Implementation - Fedor Pikus - CppNow 2022 (1).jpeg","targetRectangle":{"y":471.37748718261719,"x":1145.54150390625,"width":751.42425537109375,"height":422.6761474609375}},{"text":"Lightning Talk: A Spinlock Implementation","targetRectangle":{"y":314.32858419418335,"x":1150.5523681640625,"width":688.94200000000023,"height":43.659999310970306}},{"text":"- Fedor Pikus","targetRectangle":{"y":358.32858419418335,"x":1150.5523681640625,"width":206.95800000000008,"height":43.659999310970306}},{"text":"- CppNow 2022","targetRectangle":{"y":402.32858419418335,"x":1150.5523681640625,"width":252.38200000000006,"height":43.659999310970306}},{"text":"https:\/\/rigtorp.se\/spinlock\/","targetRectangle":{"y":66.734268426895142,"x":1218.0736083984375,"width":605.36000000000013,"height":61.529999047517776}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":567.63204574584961,"pointY":560.22510528564453},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,1024.7250900268555]]},{"type":"AddLine","points":[[6.1320457458496094,1024.7250900268555]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":515.36795425415039,"pointY":507.77489471435547},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0BC9F9B51193D23588C13F90E0125123"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1516.5736083984375,"pointY":87.734268426895142},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0.49162,"textBaseline":0.77848493039608002,"isBackgroundTexture":true,"isVerticalText":false,"textColor":[0.32481390237808228,0.34466239809989929,0.37378150224685669,1],"textureType":6},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":308.4263916015625,"pointY":41.265731573104858},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"4758112000765AEF2A9B1380525830A3"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1525.04150390625,"pointY":606.82858276367188},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":593,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"23C398F4-54A4-4F12-B66E-034968065834","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":372.95849609375,"pointY":289.17141723632812},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":593,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"D822240E157D5D5F9636EC2766305683"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":606.73728942871082,"pointY":684.17895507812477},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,101.75215911865234]]},{"type":"AddLine","points":[[4.2372894287108522,101.75215911865234]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":415.26271057128918,"pointY":51.821044921875227},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0692453855CA4D407D0D2576D60E93FC"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":635.75253295898438,"pointY":793.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,102.12349700927734]]},{"type":"AddLine","points":[[3.752532958984375,102.12349700927734]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":444.24746704101562,"pointY":51.449707031250114},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E9C660B73CB5E5573E8D11D72CD2B6E9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":554.48492050170898,"pointY":554.999267578125},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"FF2A201B-569E-4706-B9E0-A8337DB531D2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":505.51507949829102,"pointY":506.000732421875},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1015,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E57CD487CEE753D7D1019BC0C188C7AD"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":606.73728942871082,"pointY":684.17895507812477},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":770.26271057128918,"pointY":-91.178955078124773},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.92357639157228921,"pointY":-0.86017882149174318}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":0},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":1}},{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"forwards","duration":0.5,"autoreverses":false,"property":"hidden","to":{"scalar":false},"removedOnCompletion":true}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,101.75215911865234]]},{"type":"AddLine","points":[[4.2372894287108522,101.75215911865234]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":415.26271057128918,"pointY":51.821044921875227},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0692453855CA4D407D0D2576D60E93FC"}]}]},"effects":[],"duration":0.5,"type":"buildIn","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"class realtime_mutex ","targetRectangle":{"y":47.725105285644531,"x":50.132045745849609,"width":289.84716796875,"height":28}},{"text":"{","targetRectangle":{"y":75.725105285644531,"x":50.132045745849609,"width":13.80224609375,"height":28}},{"text":"   std::atomic_flag flag = ATOMIC_FLAG_INIT;","targetRectangle":{"y":103.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"public:","targetRectangle":{"y":159.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"    \/\/ Non-blocking try_lock for real-time contexts","targetRectangle":{"y":187.72510528564453,"x":50.132045745849609,"width":703.91455078125,"height":28}},{"text":"    bool try_lock() noexcept ","targetRectangle":{"y":215.72510528564453,"x":50.132045745849609,"width":400.26513671875,"height":28}},{"text":"    {","targetRectangle":{"y":243.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        \/\/ First test: cheap read-only check","targetRectangle":{"y":271.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"        if (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":299.72510528564453,"x":50.132045745849609,"width":690.1123046875,"height":28}},{"text":"            return false;  \/\/ Already locked","targetRectangle":{"y":327.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"       ","targetRectangle":{"y":355.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"        \/\/ Then test-and-set if the first test passed","targetRectangle":{"y":383.72510528564453,"x":50.132045745849609,"width":731.51904296875,"height":28}},{"text":"        return ! flag.test_and_set (std::memory_order_acquire);","targetRectangle":{"y":411.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"    }","targetRectangle":{"y":439.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    \/\/ Blocking lock with test, test-and-set optimization","targetRectangle":{"y":495.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"    void lock() noexcept ","targetRectangle":{"y":523.72510528564453,"x":50.132045745849609,"width":345.05615234375,"height":28}},{"text":"    {","targetRectangle":{"y":551.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        while (true)","targetRectangle":{"y":579.72510528564453,"x":50.132045745849609,"width":276.044921875,"height":28}},{"text":"        {","targetRectangle":{"y":607.72510528564453,"x":50.132045745849609,"width":124.22021484375,"height":28}},{"text":"           \/\/ Optimistically assume the lock is free on the first try","targetRectangle":{"y":635.72510528564453,"x":50.132045745849609,"width":952.35498046875,"height":28}},{"text":"           if (! flag.test_and_set (std::memory_order_acquire))","targetRectangle":{"y":663.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"                break;  \/\/ Successfully acquired the lock","targetRectangle":{"y":691.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"           \/\/ Wait for lock to be released without generating cache misses","targetRectangle":{"y":747.72510528564453,"x":50.132045745849609,"width":1021.3662109375,"height":28}},{"text":"            while (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":775.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"                CPU_PAUSE();  \/\/ CPU-specific pause instruction","targetRectangle":{"y":803.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"       }","targetRectangle":{"y":831.72510528564453,"x":50.132045745849609,"width":110.41796875,"height":28}},{"text":"    }","targetRectangle":{"y":859.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    void unlock() noexcept","targetRectangle":{"y":915.72510528564453,"x":50.132045745849609,"width":358.8583984375,"height":28}},{"text":"    {","targetRectangle":{"y":943.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        flag.clear (std::memory_order_release);","targetRectangle":{"y":971.72510528564453,"x":50.132045745849609,"width":648.70556640625,"height":28}},{"text":"    }","targetRectangle":{"y":999.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"};","targetRectangle":{"y":1027.7251052856445,"x":50.132045745849609,"width":27.6044921875,"height":28}},{"text":"(8) Lightning Talk_ A Spinlock Implementation - Fedor Pikus - CppNow 2022 (1).jpeg","targetRectangle":{"y":471.37748718261719,"x":1145.54150390625,"width":751.42425537109375,"height":422.6761474609375}},{"text":"Lightning Talk: A Spinlock Implementation","targetRectangle":{"y":314.32858419418335,"x":1150.5523681640625,"width":688.94200000000023,"height":43.659999310970306}},{"text":"- Fedor Pikus","targetRectangle":{"y":358.32858419418335,"x":1150.5523681640625,"width":206.95800000000008,"height":43.659999310970306}},{"text":"- CppNow 2022","targetRectangle":{"y":402.32858419418335,"x":1150.5523681640625,"width":252.38200000000006,"height":43.659999310970306}},{"text":"https:\/\/rigtorp.se\/spinlock\/","targetRectangle":{"y":66.734268426895142,"x":1218.0736083984375,"width":605.36000000000013,"height":61.529999047517776}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":567.63204574584961,"pointY":560.22510528564453},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,1024.7250900268555]]},{"type":"AddLine","points":[[6.1320457458496094,1024.7250900268555]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":515.36795425415039,"pointY":507.77489471435547},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0BC9F9B51193D23588C13F90E0125123"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1516.5736083984375,"pointY":87.734268426895142},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0.49162,"textBaseline":0.77848493039608002,"isBackgroundTexture":true,"isVerticalText":false,"textColor":[0.32481390237808228,0.34466239809989929,0.37378150224685669,1],"textureType":6},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":308.4263916015625,"pointY":41.265731573104858},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"4758112000765AEF2A9B1380525830A3"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1525.04150390625,"pointY":606.82858276367188},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":593,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"23C398F4-54A4-4F12-B66E-034968065834","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":372.95849609375,"pointY":289.17141723632812},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":593,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"D822240E157D5D5F9636EC2766305683"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":606.73728942871082,"pointY":684.17895507812477},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,101.75215911865234]]},{"type":"AddLine","points":[[4.2372894287108522,101.75215911865234]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":415.26271057128918,"pointY":51.821044921875227},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0692453855CA4D407D0D2576D60E93FC"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":635.75253295898438,"pointY":793.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,102.12349700927734]]},{"type":"AddLine","points":[[3.752532958984375,102.12349700927734]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":444.24746704101562,"pointY":51.449707031250114},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E9C660B73CB5E5573E8D11D72CD2B6E9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":554.48492050170898,"pointY":554.999267578125},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"FF2A201B-569E-4706-B9E0-A8337DB531D2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":505.51507949829102,"pointY":506.000732421875},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E57CD487CEE753D7D1019BC0C188C7AD"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":606.73728942871082,"pointY":684.17895507812477},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":770.26271057128918,"pointY":-91.178955078124773},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.92357639157228921,"pointY":-0.86017882149174318}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":1},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":0}}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,101.75215911865234]]},{"type":"AddLine","points":[[4.2372894287108522,101.75215911865234]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":415.26271057128918,"pointY":51.821044921875227},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0692453855CA4D407D0D2576D60E93FC"}]}]},"effects":[],"duration":0.5,"type":"buildOut","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0"},{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":635.75253295898438,"pointY":793.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":769.74746704101562,"pointY":-200.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.86391410442313765,"pointY":-1.8919838959316027}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":0},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":1}},{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"forwards","duration":0.5,"autoreverses":false,"property":"hidden","to":{"scalar":false},"removedOnCompletion":true}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,102.12349700927734]]},{"type":"AddLine","points":[[3.752532958984375,102.12349700927734]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":444.24746704101562,"pointY":51.449707031250114},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E9C660B73CB5E5573E8D11D72CD2B6E9"}]}]},"effects":[],"duration":0.5,"type":"buildIn","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"class realtime_mutex ","targetRectangle":{"y":47.725105285644531,"x":50.132045745849609,"width":289.84716796875,"height":28}},{"text":"{","targetRectangle":{"y":75.725105285644531,"x":50.132045745849609,"width":13.80224609375,"height":28}},{"text":"   std::atomic_flag flag = ATOMIC_FLAG_INIT;","targetRectangle":{"y":103.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"public:","targetRectangle":{"y":159.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"    \/\/ Non-blocking try_lock for real-time contexts","targetRectangle":{"y":187.72510528564453,"x":50.132045745849609,"width":703.91455078125,"height":28}},{"text":"    bool try_lock() noexcept ","targetRectangle":{"y":215.72510528564453,"x":50.132045745849609,"width":400.26513671875,"height":28}},{"text":"    {","targetRectangle":{"y":243.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        \/\/ First test: cheap read-only check","targetRectangle":{"y":271.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"        if (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":299.72510528564453,"x":50.132045745849609,"width":690.1123046875,"height":28}},{"text":"            return false;  \/\/ Already locked","targetRectangle":{"y":327.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"       ","targetRectangle":{"y":355.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"        \/\/ Then test-and-set if the first test passed","targetRectangle":{"y":383.72510528564453,"x":50.132045745849609,"width":731.51904296875,"height":28}},{"text":"        return ! flag.test_and_set (std::memory_order_acquire);","targetRectangle":{"y":411.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"    }","targetRectangle":{"y":439.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    \/\/ Blocking lock with test, test-and-set optimization","targetRectangle":{"y":495.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"    void lock() noexcept ","targetRectangle":{"y":523.72510528564453,"x":50.132045745849609,"width":345.05615234375,"height":28}},{"text":"    {","targetRectangle":{"y":551.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        while (true)","targetRectangle":{"y":579.72510528564453,"x":50.132045745849609,"width":276.044921875,"height":28}},{"text":"        {","targetRectangle":{"y":607.72510528564453,"x":50.132045745849609,"width":124.22021484375,"height":28}},{"text":"           \/\/ Optimistically assume the lock is free on the first try","targetRectangle":{"y":635.72510528564453,"x":50.132045745849609,"width":952.35498046875,"height":28}},{"text":"           if (! flag.test_and_set (std::memory_order_acquire))","targetRectangle":{"y":663.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"                break;  \/\/ Successfully acquired the lock","targetRectangle":{"y":691.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"           \/\/ Wait for lock to be released without generating cache misses","targetRectangle":{"y":747.72510528564453,"x":50.132045745849609,"width":1021.3662109375,"height":28}},{"text":"            while (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":775.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"                CPU_PAUSE();  \/\/ CPU-specific pause instruction","targetRectangle":{"y":803.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"       }","targetRectangle":{"y":831.72510528564453,"x":50.132045745849609,"width":110.41796875,"height":28}},{"text":"    }","targetRectangle":{"y":859.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    void unlock() noexcept","targetRectangle":{"y":915.72510528564453,"x":50.132045745849609,"width":358.8583984375,"height":28}},{"text":"    {","targetRectangle":{"y":943.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        flag.clear (std::memory_order_release);","targetRectangle":{"y":971.72510528564453,"x":50.132045745849609,"width":648.70556640625,"height":28}},{"text":"    }","targetRectangle":{"y":999.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"};","targetRectangle":{"y":1027.7251052856445,"x":50.132045745849609,"width":27.6044921875,"height":28}},{"text":"(8) Lightning Talk_ A Spinlock Implementation - Fedor Pikus - CppNow 2022 (1).jpeg","targetRectangle":{"y":471.37748718261719,"x":1145.54150390625,"width":751.42425537109375,"height":422.6761474609375}},{"text":"Lightning Talk: A Spinlock Implementation","targetRectangle":{"y":314.32858419418335,"x":1150.5523681640625,"width":688.94200000000023,"height":43.659999310970306}},{"text":"- Fedor Pikus","targetRectangle":{"y":358.32858419418335,"x":1150.5523681640625,"width":206.95800000000008,"height":43.659999310970306}},{"text":"- CppNow 2022","targetRectangle":{"y":402.32858419418335,"x":1150.5523681640625,"width":252.38200000000006,"height":43.659999310970306}},{"text":"https:\/\/rigtorp.se\/spinlock\/","targetRectangle":{"y":66.734268426895142,"x":1218.0736083984375,"width":605.36000000000013,"height":61.529999047517776}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":567.63204574584961,"pointY":560.22510528564453},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,1024.7250900268555]]},{"type":"AddLine","points":[[6.1320457458496094,1024.7250900268555]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":515.36795425415039,"pointY":507.77489471435547},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0BC9F9B51193D23588C13F90E0125123"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1516.5736083984375,"pointY":87.734268426895142},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0.49162,"textBaseline":0.77848493039608002,"isBackgroundTexture":true,"isVerticalText":false,"textColor":[0.32481390237808228,0.34466239809989929,0.37378150224685669,1],"textureType":6},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":308.4263916015625,"pointY":41.265731573104858},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"4758112000765AEF2A9B1380525830A3"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1525.04150390625,"pointY":606.82858276367188},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":593,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"23C398F4-54A4-4F12-B66E-034968065834","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":372.95849609375,"pointY":289.17141723632812},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":593,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"D822240E157D5D5F9636EC2766305683"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":606.73728942871082,"pointY":684.17895507812477},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,101.75215911865234]]},{"type":"AddLine","points":[[4.2372894287108522,101.75215911865234]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":415.26271057128918,"pointY":51.821044921875227},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0692453855CA4D407D0D2576D60E93FC"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":635.75253295898438,"pointY":793.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,102.12349700927734]]},{"type":"AddLine","points":[[3.752532958984375,102.12349700927734]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":444.24746704101562,"pointY":51.449707031250114},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E9C660B73CB5E5573E8D11D72CD2B6E9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":554.48492050170898,"pointY":554.999267578125},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"FF2A201B-569E-4706-B9E0-A8337DB531D2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":505.51507949829102,"pointY":506.000732421875},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E57CD487CEE753D7D1019BC0C188C7AD"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":635.75253295898438,"pointY":793.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":769.74746704101562,"pointY":-200.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.86391410442313765,"pointY":-1.8919838959316027}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":1},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":0}}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,102.12349700927734]]},{"type":"AddLine","points":[[3.752532958984375,102.12349700927734]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":444.24746704101562,"pointY":51.449707031250114},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E9C660B73CB5E5573E8D11D72CD2B6E9"}]}]},"effects":[],"duration":0.5,"type":"buildOut","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"class realtime_mutex ","targetRectangle":{"y":47.725105285644531,"x":50.132045745849609,"width":289.84716796875,"height":28}},{"text":"{","targetRectangle":{"y":75.725105285644531,"x":50.132045745849609,"width":13.80224609375,"height":28}},{"text":"   std::atomic_flag flag = ATOMIC_FLAG_INIT;","targetRectangle":{"y":103.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"public:","targetRectangle":{"y":159.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"    \/\/ Non-blocking try_lock for real-time contexts","targetRectangle":{"y":187.72510528564453,"x":50.132045745849609,"width":703.91455078125,"height":28}},{"text":"    bool try_lock() noexcept ","targetRectangle":{"y":215.72510528564453,"x":50.132045745849609,"width":400.26513671875,"height":28}},{"text":"    {","targetRectangle":{"y":243.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        \/\/ First test: cheap read-only check","targetRectangle":{"y":271.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"        if (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":299.72510528564453,"x":50.132045745849609,"width":690.1123046875,"height":28}},{"text":"            return false;  \/\/ Already locked","targetRectangle":{"y":327.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"       ","targetRectangle":{"y":355.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"        \/\/ Then test-and-set if the first test passed","targetRectangle":{"y":383.72510528564453,"x":50.132045745849609,"width":731.51904296875,"height":28}},{"text":"        return ! flag.test_and_set (std::memory_order_acquire);","targetRectangle":{"y":411.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"    }","targetRectangle":{"y":439.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    \/\/ Blocking lock with test, test-and-set optimization","targetRectangle":{"y":495.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"    void lock() noexcept ","targetRectangle":{"y":523.72510528564453,"x":50.132045745849609,"width":345.05615234375,"height":28}},{"text":"    {","targetRectangle":{"y":551.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        while (true)","targetRectangle":{"y":579.72510528564453,"x":50.132045745849609,"width":276.044921875,"height":28}},{"text":"        {","targetRectangle":{"y":607.72510528564453,"x":50.132045745849609,"width":124.22021484375,"height":28}},{"text":"           \/\/ Optimistically assume the lock is free on the first try","targetRectangle":{"y":635.72510528564453,"x":50.132045745849609,"width":952.35498046875,"height":28}},{"text":"           if (! flag.test_and_set (std::memory_order_acquire))","targetRectangle":{"y":663.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"                break;  \/\/ Successfully acquired the lock","targetRectangle":{"y":691.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"           \/\/ Wait for lock to be released without generating cache misses","targetRectangle":{"y":747.72510528564453,"x":50.132045745849609,"width":1021.3662109375,"height":28}},{"text":"            while (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":775.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"                CPU_PAUSE();  \/\/ CPU-specific pause instruction","targetRectangle":{"y":803.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"       }","targetRectangle":{"y":831.72510528564453,"x":50.132045745849609,"width":110.41796875,"height":28}},{"text":"    }","targetRectangle":{"y":859.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    void unlock() noexcept","targetRectangle":{"y":915.72510528564453,"x":50.132045745849609,"width":358.8583984375,"height":28}},{"text":"    {","targetRectangle":{"y":943.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        flag.clear (std::memory_order_release);","targetRectangle":{"y":971.72510528564453,"x":50.132045745849609,"width":648.70556640625,"height":28}},{"text":"    }","targetRectangle":{"y":999.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"};","targetRectangle":{"y":1027.7251052856445,"x":50.132045745849609,"width":27.6044921875,"height":28}},{"text":"(8) Lightning Talk_ A Spinlock Implementation - Fedor Pikus - CppNow 2022 (1).jpeg","targetRectangle":{"y":471.37748718261719,"x":1145.54150390625,"width":751.42425537109375,"height":422.6761474609375}},{"text":"Lightning Talk: A Spinlock Implementation","targetRectangle":{"y":314.32858419418335,"x":1150.5523681640625,"width":688.94200000000023,"height":43.659999310970306}},{"text":"- Fedor Pikus","targetRectangle":{"y":358.32858419418335,"x":1150.5523681640625,"width":206.95800000000008,"height":43.659999310970306}},{"text":"- CppNow 2022","targetRectangle":{"y":402.32858419418335,"x":1150.5523681640625,"width":252.38200000000006,"height":43.659999310970306}},{"text":"https:\/\/rigtorp.se\/spinlock\/","targetRectangle":{"y":66.734268426895142,"x":1218.0736083984375,"width":605.36000000000013,"height":61.529999047517776}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":567.63204574584961,"pointY":560.22510528564453},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,1024.7250900268555]]},{"type":"AddLine","points":[[6.1320457458496094,1024.7250900268555]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":515.36795425415039,"pointY":507.77489471435547},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0BC9F9B51193D23588C13F90E0125123"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1516.5736083984375,"pointY":87.734268426895142},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0.49162,"textBaseline":0.77848493039608002,"isBackgroundTexture":true,"isVerticalText":false,"textColor":[0.32481390237808228,0.34466239809989929,0.37378150224685669,1],"textureType":6},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":308.4263916015625,"pointY":41.265731573104858},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"4758112000765AEF2A9B1380525830A3"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1525.04150390625,"pointY":606.82858276367188},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":593,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"23C398F4-54A4-4F12-B66E-034968065834","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":372.95849609375,"pointY":289.17141723632812},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":593,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"D822240E157D5D5F9636EC2766305683"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":606.73728942871082,"pointY":684.17895507812477},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,101.75215911865234]]},{"type":"AddLine","points":[[4.2372894287108522,101.75215911865234]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":415.26271057128918,"pointY":51.821044921875227},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0692453855CA4D407D0D2576D60E93FC"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":635.75253295898438,"pointY":793.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,102.12349700927734]]},{"type":"AddLine","points":[[3.752532958984375,102.12349700927734]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":444.24746704101562,"pointY":51.449707031250114},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E9C660B73CB5E5573E8D11D72CD2B6E9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":554.48492050170898,"pointY":554.999267578125},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"FF2A201B-569E-4706-B9E0-A8337DB531D2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":505.51507949829102,"pointY":506.000732421875},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E57CD487CEE753D7D1019BC0C188C7AD"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1525.04150390625,"pointY":606.82858276367188},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":593,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"23C398F4-54A4-4F12-B66E-034968065834","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":-185.54150390625,"pointY":229.67141723632812},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":593,"hidden":false,"anchorPoint":{"pointX":-0.24445520936264822,"pointY":0.38730424491792265}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":1,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":0},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":1,"beginTime":0,"to":{"scalar":1}},{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"forwards","duration":1,"autoreverses":false,"property":"hidden","to":{"scalar":false},"removedOnCompletion":true}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":372.95849609375,"pointY":289.17141723632812},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":593,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"D822240E157D5D5F9636EC2766305683"}]}]},"effects":[],"duration":1,"type":"buildIn","attributes":{"direction":0},"name":"apple:dissolve","objectID":"23C398F4-54A4-4F12-B66E-034968065834"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"class realtime_mutex ","targetRectangle":{"y":47.725105285644531,"x":50.132045745849609,"width":289.84716796875,"height":28}},{"text":"{","targetRectangle":{"y":75.725105285644531,"x":50.132045745849609,"width":13.80224609375,"height":28}},{"text":"   std::atomic_flag flag = ATOMIC_FLAG_INIT;","targetRectangle":{"y":103.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"public:","targetRectangle":{"y":159.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"    \/\/ Non-blocking try_lock for real-time contexts","targetRectangle":{"y":187.72510528564453,"x":50.132045745849609,"width":703.91455078125,"height":28}},{"text":"    bool try_lock() noexcept ","targetRectangle":{"y":215.72510528564453,"x":50.132045745849609,"width":400.26513671875,"height":28}},{"text":"    {","targetRectangle":{"y":243.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        \/\/ First test: cheap read-only check","targetRectangle":{"y":271.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"        if (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":299.72510528564453,"x":50.132045745849609,"width":690.1123046875,"height":28}},{"text":"            return false;  \/\/ Already locked","targetRectangle":{"y":327.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"       ","targetRectangle":{"y":355.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"        \/\/ Then test-and-set if the first test passed","targetRectangle":{"y":383.72510528564453,"x":50.132045745849609,"width":731.51904296875,"height":28}},{"text":"        return ! flag.test_and_set (std::memory_order_acquire);","targetRectangle":{"y":411.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"    }","targetRectangle":{"y":439.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    \/\/ Blocking lock with test, test-and-set optimization","targetRectangle":{"y":495.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"    void lock() noexcept ","targetRectangle":{"y":523.72510528564453,"x":50.132045745849609,"width":345.05615234375,"height":28}},{"text":"    {","targetRectangle":{"y":551.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        while (true)","targetRectangle":{"y":579.72510528564453,"x":50.132045745849609,"width":276.044921875,"height":28}},{"text":"        {","targetRectangle":{"y":607.72510528564453,"x":50.132045745849609,"width":124.22021484375,"height":28}},{"text":"           \/\/ Optimistically assume the lock is free on the first try","targetRectangle":{"y":635.72510528564453,"x":50.132045745849609,"width":952.35498046875,"height":28}},{"text":"           if (! flag.test_and_set (std::memory_order_acquire))","targetRectangle":{"y":663.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"                break;  \/\/ Successfully acquired the lock","targetRectangle":{"y":691.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"           \/\/ Wait for lock to be released without generating cache misses","targetRectangle":{"y":747.72510528564453,"x":50.132045745849609,"width":1021.3662109375,"height":28}},{"text":"            while (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":775.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"                CPU_PAUSE();  \/\/ CPU-specific pause instruction","targetRectangle":{"y":803.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"       }","targetRectangle":{"y":831.72510528564453,"x":50.132045745849609,"width":110.41796875,"height":28}},{"text":"    }","targetRectangle":{"y":859.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    void unlock() noexcept","targetRectangle":{"y":915.72510528564453,"x":50.132045745849609,"width":358.8583984375,"height":28}},{"text":"    {","targetRectangle":{"y":943.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        flag.clear (std::memory_order_release);","targetRectangle":{"y":971.72510528564453,"x":50.132045745849609,"width":648.70556640625,"height":28}},{"text":"    }","targetRectangle":{"y":999.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"};","targetRectangle":{"y":1027.7251052856445,"x":50.132045745849609,"width":27.6044921875,"height":28}},{"text":"(8) Lightning Talk_ A Spinlock Implementation - Fedor Pikus - CppNow 2022 (1).jpeg","targetRectangle":{"y":471.37748718261719,"x":1145.54150390625,"width":751.42425537109375,"height":422.6761474609375}},{"text":"Lightning Talk: A Spinlock Implementation","targetRectangle":{"y":314.32858419418335,"x":1150.5523681640625,"width":688.94200000000023,"height":43.659999310970306}},{"text":"- Fedor Pikus","targetRectangle":{"y":358.32858419418335,"x":1150.5523681640625,"width":206.95800000000008,"height":43.659999310970306}},{"text":"- CppNow 2022","targetRectangle":{"y":402.32858419418335,"x":1150.5523681640625,"width":252.38200000000006,"height":43.659999310970306}},{"text":"https:\/\/rigtorp.se\/spinlock\/","targetRectangle":{"y":66.734268426895142,"x":1218.0736083984375,"width":605.36000000000013,"height":61.529999047517776}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":567.63204574584961,"pointY":560.22510528564453},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,8.7251052856445312]]},{"type":"AddLine","points":[[1036.4982757568359,1024.7250900268555]]},{"type":"AddLine","points":[[6.1320457458496094,1024.7250900268555]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.1320457458496094,8.7251052856445312]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":515.36795425415039,"pointY":507.77489471435547},"width":1043,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1033,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0BC9F9B51193D23588C13F90E0125123"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1516.5736083984375,"pointY":87.734268426895142},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0.49162,"textBaseline":0.77848493039608002,"isBackgroundTexture":true,"isVerticalText":false,"textColor":[0.32481390237808228,0.34466239809989929,0.37378150224685669,1],"textureType":6},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":308.4263916015625,"pointY":41.265731573104858},"width":605,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":50,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"4758112000765AEF2A9B1380525830A3"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1525.04150390625,"pointY":606.82858276367188},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":593,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"23C398F4-54A4-4F12-B66E-034968065834","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":372.95849609375,"pointY":289.17141723632812},"width":759,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":593,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"D822240E157D5D5F9636EC2766305683"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":606.73728942871082,"pointY":684.17895507812477},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"868D9F82-F236-4F87-BB82-40888D5D69E0","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,3.6789550781247726]]},{"type":"AddLine","points":[[829.81590270996094,101.75215911865234]]},{"type":"AddLine","points":[[4.2372894287108522,101.75215911865234]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.2372894287108522,3.6789550781247726]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":415.26271057128918,"pointY":51.821044921875227},"width":834,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0692453855CA4D407D0D2576D60E93FC"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":635.75253295898438,"pointY":793.55029296874989},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":106,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"3D5FA208-A627-4E57-8107-1D8A8BA62DDA","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,4.0502929687498863]]},{"type":"AddLine","points":[[887.41201782226562,102.12349700927734]]},{"type":"AddLine","points":[[3.752532958984375,102.12349700927734]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.752532958984375,4.0502929687498863]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":444.24746704101562,"pointY":51.449707031250114},"width":891,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":106,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E9C660B73CB5E5573E8D11D72CD2B6E9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":554.48492050170898,"pointY":554.999267578125},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"FF2A201B-569E-4706-B9E0-A8337DB531D2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":5,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":505.51507949829102,"pointY":506.000732421875},"width":1014,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1015,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"E57CD487CEE753D7D1019BC0C188C7AD"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"166B057C4E075DF7FAFA244B5FC6062C"},{"animations":[{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"both","duration":0.001,"autoreverses":false,"property":"hidden","to":{"scalar":true},"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"D59FAC45CC265F30D1B1839BDD005E2F"}]}]},"effects":[],"duration":0.001,"type":"transition","attributes":{"direction":0},"name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"class realtime_mutex ","targetRectangle":{"y":47.725105285644531,"x":50.132045745849609,"width":289.84716796875,"height":28}},{"text":"{","targetRectangle":{"y":75.725105285644531,"x":50.132045745849609,"width":13.80224609375,"height":28}},{"text":"   std::atomic_flag flag = ATOMIC_FLAG_INIT;","targetRectangle":{"y":103.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"public:","targetRectangle":{"y":159.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"    \/\/ Non-blocking try_lock for real-time contexts","targetRectangle":{"y":187.72510528564453,"x":50.132045745849609,"width":703.91455078125,"height":28}},{"text":"    bool try_lock() noexcept ","targetRectangle":{"y":215.72510528564453,"x":50.132045745849609,"width":400.26513671875,"height":28}},{"text":"    {","targetRectangle":{"y":243.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        \/\/ First test: cheap read-only check","targetRectangle":{"y":271.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"        if (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":299.72510528564453,"x":50.132045745849609,"width":690.1123046875,"height":28}},{"text":"            return false;  \/\/ Already locked","targetRectangle":{"y":327.72510528564453,"x":50.132045745849609,"width":607.298828125,"height":28}},{"text":"       ","targetRectangle":{"y":355.72510528564453,"x":50.132045745849609,"width":96.61572265625,"height":28}},{"text":"        \/\/ Then test-and-set if the first test passed","targetRectangle":{"y":383.72510528564453,"x":50.132045745849609,"width":731.51904296875,"height":28}},{"text":"        return ! flag.test_and_set (std::memory_order_acquire);","targetRectangle":{"y":411.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"    }","targetRectangle":{"y":439.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    \/\/ Blocking lock with test, test-and-set optimization","targetRectangle":{"y":495.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"    void lock() noexcept ","targetRectangle":{"y":523.72510528564453,"x":50.132045745849609,"width":345.05615234375,"height":28}},{"text":"    {","targetRectangle":{"y":551.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        while (true)","targetRectangle":{"y":579.72510528564453,"x":50.132045745849609,"width":276.044921875,"height":28}},{"text":"        {","targetRectangle":{"y":607.72510528564453,"x":50.132045745849609,"width":124.22021484375,"height":28}},{"text":"           \/\/ Optimistically assume the lock is free on the first try","targetRectangle":{"y":635.72510528564453,"x":50.132045745849609,"width":952.35498046875,"height":28}},{"text":"           if (! flag.test_and_set (std::memory_order_acquire))","targetRectangle":{"y":663.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"                break;  \/\/ Successfully acquired the lock","targetRectangle":{"y":691.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"           \/\/ Wait for lock to be released without generating cache misses","targetRectangle":{"y":747.72510528564453,"x":50.132045745849609,"width":1021.3662109375,"height":28}},{"text":"            while (flag.test (std::memory_order_relaxed))","targetRectangle":{"y":775.72510528564453,"x":50.132045745849609,"width":786.72802734375,"height":28}},{"text":"                CPU_PAUSE();  \/\/ CPU-specific pause instruction","targetRectangle":{"y":803.72510528564453,"x":50.132045745849609,"width":869.54150390625,"height":28}},{"text":"       }","targetRectangle":{"y":831.72510528564453,"x":50.132045745849609,"width":110.41796875,"height":28}},{"text":"    }","targetRectangle":{"y":859.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"    void unlock() noexcept","targetRectangle":{"y":915.72510528564453,"x":50.132045745849609,"width":358.8583984375,"height":28}},{"text":"    {","targetRectangle":{"y":943.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"        flag.clear (std::memory_order_release);","targetRectangle":{"y":971.72510528564453,"x":50.132045745849609,"width":648.70556640625,"height":28}},{"text":"    }","targetRectangle":{"y":999.72510528564453,"x":50.132045745849609,"width":69.01123046875,"height":28}},{"text":"};","targetRectangle":{"y":1027.7251052856445,"x":50.132045745849609,"width":27.6044921875,"height":28}},{"text":"(8) Lightning Talk_ A Spinlock Implementation - Fedor Pikus - CppNow 2022 (1).jpeg","targetRectangle":{"y":471.37748718261719,"x":1145.54150390625,"width":751.42425537109375,"height":422.6761474609375}},{"text":"Lightning Talk: A Spinlock Implementation","targetRectangle":{"y":314.32858419418335,"x":1150.5523681640625,"width":688.94200000000023,"height":43.659999310970306}},{"text":"- Fedor Pikus","targetRectangle":{"y":358.32858419418335,"x":1150.5523681640625,"width":206.95800000000008,"height":43.659999310970306}},{"text":"- CppNow 2022","targetRectangle":{"y":402.32858419418335,"x":1150.5523681640625,"width":252.38200000000006,"height":43.659999310970306}},{"text":"https:\/\/rigtorp.se\/spinlock\/","targetRectangle":{"y":66.734268426895142,"x":1218.0736083984375,"width":605.36000000000013,"height":61.529999047517776}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"D59FAC45CC265F30D1B1839BDD005E2F"}]}]}}]}