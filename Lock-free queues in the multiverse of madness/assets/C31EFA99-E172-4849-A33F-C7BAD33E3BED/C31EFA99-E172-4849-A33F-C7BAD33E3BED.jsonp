local_slide( {"name":"C31EFA99-E172-4849-A33F-C7BAD33E3BED","json":{"assets":{"C0662B196AF66281CC46C2575D25E370":{"type":"texture","index":0,"url":{"native":"assets\/C31EFA99-E172-4849-A33F-C7BAD33E3BED.pdf"},"width":1920,"height":1080},"AD804C1CDB24A824B4FC717E7DE47FBF":{"type":"texture","index":1,"url":{"native":"assets\/C31EFA99-E172-4849-A33F-C7BAD33E3BED.pdf"},"width":1920,"height":1080}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"AD804C1CDB24A824B4FC717E7DE47FBF"},{"animations":[{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"both","duration":0.001,"autoreverses":false,"property":"hidden","to":{"scalar":true},"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"C0662B196AF66281CC46C2575D25E370"}]}]},"effects":[],"duration":0.001,"type":"transition","attributes":{"direction":0},"name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"template<typename T>","targetRectangle":{"y":47.725105285644531,"x":50.132045745849609,"width":216.03515625,"height":22}},{"text":"class drow_queue_v4","targetRectangle":{"y":69.725105285644531,"x":50.132045745849609,"width":205.2333984375,"height":22}},{"text":"{","targetRectangle":{"y":91.725105285644531,"x":50.132045745849609,"width":10.8017578125,"height":22}},{"text":"public:","targetRectangle":{"y":113.72510528564453,"x":50.132045745849609,"width":75.6123046875,"height":22}},{"text":"    drow_queue_v4 (size_t capacity_)","targetRectangle":{"y":135.72510528564453,"x":50.132045745849609,"width":388.86328125,"height":22}},{"text":"        : capacity (std::bit_ceil (capacity_))","targetRectangle":{"y":157.72510528564453,"x":50.132045745849609,"width":496.880859375,"height":22}},{"text":"    {}","targetRectangle":{"y":179.72510528564453,"x":50.132045745849609,"width":64.810546875,"height":22}},{"text":"    bool try_push (const T& v)","targetRectangle":{"y":223.72510528564453,"x":50.132045745849609,"width":324.052734375,"height":22}},{"text":"    {","targetRectangle":{"y":245.72510528564453,"x":50.132045745849609,"width":54.0087890625,"height":22}},{"text":"        size_t current_tail = tail.load (std::memory_order_relaxed);","targetRectangle":{"y":267.72510528564453,"x":50.132045745849609,"width":734.51953125,"height":22}},{"text":"        size_t current_head = head.load (std::memory_order_acquire);","targetRectangle":{"y":289.72510528564453,"x":50.132045745849609,"width":734.51953125,"height":22}},{"text":"        size_t size = current_tail - current_head;","targetRectangle":{"y":333.72510528564453,"x":50.132045745849609,"width":540.087890625,"height":22}},{"text":"        if (size >= (capacity - 1)) \/\/ full","targetRectangle":{"y":377.72510528564453,"x":50.132045745849609,"width":464.4755859375,"height":22}},{"text":"            return false;","targetRectangle":{"y":399.72510528564453,"x":50.132045745849609,"width":270.0439453125,"height":22}},{"text":"        size_t index = current_tail & (capacity - 1);","targetRectangle":{"y":443.72510528564453,"x":50.132045745849609,"width":572.4931640625,"height":22}},{"text":"        data[index] = v;","targetRectangle":{"y":465.72510528564453,"x":50.132045745849609,"width":259.2421875,"height":22}},{"text":"        tail.store (current_tail + 1, std::memory_order_release);","targetRectangle":{"y":487.72510528564453,"x":50.132045745849609,"width":702.1142578125,"height":22}},{"text":"        return true;","targetRectangle":{"y":531.72510528564453,"x":50.132045745849609,"width":216.03515625,"height":22}},{"text":"    }","targetRectangle":{"y":553.72510528564453,"x":50.132045745849609,"width":54.0087890625,"height":22}},{"text":"    bool try_pop (T& v)","targetRectangle":{"y":597.72510528564453,"x":50.132045745849609,"width":248.4404296875,"height":22}},{"text":"    {","targetRectangle":{"y":619.72510528564453,"x":50.132045745849609,"width":54.0087890625,"height":22}},{"text":"        size_t current_head = head.load (std::memory_order_relaxed);","targetRectangle":{"y":641.72510528564453,"x":50.132045745849609,"width":734.51953125,"height":22}},{"text":"        size_t current_tail = tail.load (std::memory_order_acquire);","targetRectangle":{"y":663.72510528564453,"x":50.132045745849609,"width":734.51953125,"height":22}},{"text":"        if (current_head == current_tail) \/\/ empty","targetRectangle":{"y":707.72510528564453,"x":50.132045745849609,"width":540.087890625,"height":22}},{"text":"            return false;","targetRectangle":{"y":729.72510528564453,"x":50.132045745849609,"width":270.0439453125,"height":22}},{"text":"        size_t index = current_head & (capacity - 1);","targetRectangle":{"y":773.72510528564453,"x":50.132045745849609,"width":572.4931640625,"height":22}},{"text":"        v = data[index];","targetRectangle":{"y":795.72510528564453,"x":50.132045745849609,"width":259.2421875,"height":22}},{"text":"        head.store (current_head + 1, std::memory_order_release);","targetRectangle":{"y":817.72510528564453,"x":50.132045745849609,"width":702.1142578125,"height":22}},{"text":"        return true;","targetRectangle":{"y":861.72510528564453,"x":50.132045745849609,"width":216.03515625,"height":22}},{"text":"    }","targetRectangle":{"y":883.72510528564453,"x":50.132045745849609,"width":54.0087890625,"height":22}},{"text":"private:","targetRectangle":{"y":927.72510528564453,"x":50.132045745849609,"width":86.4140625,"height":22}},{"text":"    size_t capacity = 0;","targetRectangle":{"y":949.72510528564453,"x":50.132045745849609,"width":259.2421875,"height":22}},{"text":"    std::vector<T> data { std::vector<T> (capacity) };","targetRectangle":{"y":971.72510528564453,"x":50.132045745849609,"width":583.294921875,"height":22}},{"text":"    std::atomic<size_t> head { 0 }, tail { 0 };","targetRectangle":{"y":993.72510528564453,"x":50.132045745849609,"width":507.6826171875,"height":22}},{"text":"};","targetRectangle":{"y":1015.7251052856445,"x":50.132045745849609,"width":21.603515625,"height":22}},{"text":"Power of two & bit mask","targetRectangle":{"y":49.749176025390625,"x":908.34887540340424,"width":547.05000000000018,"height":66.499998986721039}},{"text":"Monotonic head\/tail counter","targetRectangle":{"y":116.74917602539062,"x":908.34887540340424,"width":651.20000000000027,"height":113.49999898672104}},{"text":"Memory ordering","targetRectangle":{"y":230.74917602539062,"x":908.34887540340424,"width":392.84999999999991,"height":113.49999898672104}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"C0662B196AF66281CC46C2575D25E370"}]}]}}]}} )