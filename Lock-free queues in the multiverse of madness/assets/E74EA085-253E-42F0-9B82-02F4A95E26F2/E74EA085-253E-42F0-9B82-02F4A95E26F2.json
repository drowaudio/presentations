{"assets":{"040E46D90FAD45B9DFE1A5BD687685C1":{"type":"texture","index":3,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":1083,"height":62},"4428071C46AFBF5A94F6E42E1C8B351D":{"type":"texture","index":7,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":1920,"height":1080},"270FD8920E921C902BF8E433993DD821":{"type":"texture","index":6,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":754,"height":66},"DCFE5E7A57A19B18BCE1593941562925":{"type":"texture","index":8,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":1920,"height":1080},"2B2AAD579519AFF08785F7F26CA26E84":{"type":"texture","index":1,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":992,"height":991},"FFD1B83F10D6717D9BAE35FE1D5E7692":{"type":"texture","index":2,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":1138,"height":169},"F9A0A76BAF2A9879A1DAA8312FE7E552":{"type":"texture","index":0,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":1920,"height":1080},"3680EA57506C4C14EE8AF47342B8A0DB":{"type":"texture","index":5,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":351,"height":102},"83045E6452E3D50FED5DD0D8ACE221F9":{"type":"texture","index":4,"url":{"native":"assets\/E74EA085-253E-42F0-9B82-02F4A95E26F2.pdf"},"width":845,"height":223}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1365.8804931640625,"pointY":989.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":135.6195068359375,"pointY":-418.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.1252257680848915,"pointY":-6.749569800592238}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":0},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":1}},{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"forwards","duration":0.5,"autoreverses":false,"property":"hidden","to":{"scalar":false},"removedOnCompletion":true}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,57.973209381103516]]},{"type":"AddLine","points":[[3.8804931640625,57.973209381103516]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":540.1195068359375,"pointY":29.52667236328125},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":62,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"040E46D90FAD45B9DFE1A5BD687685C1"}]}]},"effects":[],"duration":0.5,"type":"buildIn","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"bool try_pop (T& v)","targetRectangle":{"y":41.743751525878906,"x":49.902088165283203,"width":216.63525390625,"height":23}},{"text":"{","targetRectangle":{"y":64.743751525878906,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"    for (;;)","targetRectangle":{"y":87.743751525878906,"x":49.902088165283203,"width":136.822265625,"height":23}},{"text":"    {","targetRectangle":{"y":110.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"        size_t current_pending = pending_head.load (std::memory_order_acquire);","targetRectangle":{"y":133.74375152587891,"x":49.902088165283203,"width":900.74658203125,"height":23}},{"text":"        size_t current_tail = tail.load (std::memory_order_acquire);","targetRectangle":{"y":156.74375152587891,"x":49.902088165283203,"width":775.326171875,"height":23}},{"text":"        if (current_pending == current_tail) \/\/ empty","targetRectangle":{"y":202.74375152587891,"x":49.902088165283203,"width":604.29833984375,"height":23}},{"text":"            return false;","targetRectangle":{"y":225.74375152587891,"x":49.902088165283203,"width":285.04638671875,"height":23}},{"text":"        size_t index = current_pending & (capacity - 1);","targetRectangle":{"y":271.74375152587891,"x":49.902088165283203,"width":638.50390625,"height":23}},{"text":"        \/\/ Try to claim this slot atomically","targetRectangle":{"y":317.74375152587891,"x":49.902088165283203,"width":501.681640625,"height":23}},{"text":"        if (pending_head.compare_exchange_weak (current_pending, current_pending + 1,","targetRectangle":{"y":340.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"                                                std::memory_order_acquire,","targetRectangle":{"y":363.74375152587891,"x":49.902088165283203,"width":843.7373046875,"height":23}},{"text":"                                                std::memory_order_relaxed))","targetRectangle":{"y":386.74375152587891,"x":49.902088165283203,"width":855.13916015625,"height":23}},{"text":"        {","targetRectangle":{"y":409.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"            \/\/ Successfully claimed the slot, now read the data","targetRectangle":{"y":432.74375152587891,"x":49.902088165283203,"width":718.31689453125,"height":23}},{"text":"            v = data[index];","targetRectangle":{"y":455.74375152587891,"x":49.902088165283203,"width":319.251953125,"height":23}},{"text":"            \/\/ Now we need to commit this read","targetRectangle":{"y":501.74375152587891,"x":49.902088165283203,"width":524.4853515625,"height":23}},{"text":"            \/\/ Wait until it's our turn to commit (all previous reads have committed)","targetRectangle":{"y":524.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"            for (;;)","targetRectangle":{"y":547.74375152587891,"x":49.902088165283203,"width":228.037109375,"height":23}},{"text":"            {","targetRectangle":{"y":570.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"                size_t expected_committed = current_pending;","targetRectangle":{"y":593.74375152587891,"x":49.902088165283203,"width":684.111328125,"height":23}},{"text":"                if (committed_head.compare_exchange_weak(expected_committed,","targetRectangle":{"y":616.74375152587891,"x":49.902088165283203,"width":866.541015625,"height":23}},{"text":"                                                         current_pending + 1,","targetRectangle":{"y":639.74375152587891,"x":49.902088165283203,"width":877.94287109375,"height":23}},{"text":"                                                         std::memory_order_release,","targetRectangle":{"y":662.74375152587891,"x":49.902088165283203,"width":946.35400390625,"height":23}},{"text":"                                                         std::memory_order_relaxed))","targetRectangle":{"y":685.74375152587891,"x":49.902088165283203,"width":957.755859375,"height":23}},{"text":"                {","targetRectangle":{"y":708.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                    \/\/ Successfully committed","targetRectangle":{"y":731.74375152587891,"x":49.902088165283203,"width":513.08349609375,"height":23}},{"text":"                    return true;","targetRectangle":{"y":754.74375152587891,"x":49.902088165283203,"width":364.859375,"height":23}},{"text":"                }","targetRectangle":{"y":777.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                \/\/ If CAS failed, it means we're not next in line yet","targetRectangle":{"y":823.74375152587891,"x":49.902088165283203,"width":786.72802734375,"height":23}},{"text":"                \/\/ Keep spinning until committed_head catches up to our position","targetRectangle":{"y":846.74375152587891,"x":49.902088165283203,"width":912.1484375,"height":23}},{"text":"            }","targetRectangle":{"y":869.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"        }","targetRectangle":{"y":892.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"        \/\/ CAS failed, another consumer claimed it. Retry.","targetRectangle":{"y":938.74375152587891,"x":49.902088165283203,"width":661.3076171875,"height":23}},{"text":"    }","targetRectangle":{"y":961.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"}","targetRectangle":{"y":984.74375152587891,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"private:","targetRectangle":{"y":913.2601318359375,"x":784.4114990234375,"width":96.015625,"height":24}},{"text":"    size_t capacity = 0;","targetRectangle":{"y":937.2601318359375,"x":784.4114990234375,"width":288.046875,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> pending_head { 0 };","targetRectangle":{"y":961.2601318359375,"x":784.4114990234375,"width":1092.177734375,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> committed_head { 0 };","targetRectangle":{"y":985.2601318359375,"x":784.4114990234375,"width":1116.181640625,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> tail { 0 };","targetRectangle":{"y":1009.2601318359375,"x":784.4114990234375,"width":996.162109375,"height":24}},{"text":"    std::vector<T> data { std::vector<T> (capacity) };","targetRectangle":{"y":1033.2601318359375,"x":784.4114990234375,"width":648.10546875,"height":24}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":541.9020881652832,"pointY":533.24375152587891},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,982.74372863769531]]},{"type":"AddLine","points":[[6.9020881652832031,982.74372863769531]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":489.0979118347168,"pointY":486.75624847412109},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"2B2AAD579519AFF08785F7F26CA26E84"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1349.4114990234375,"pointY":993.7601318359375},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,160.26012992858887]]},{"type":"AddLine","points":[[6.4114990234375,160.26012992858887]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":562.5885009765625,"pointY":76.2398681640625},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"FFD1B83F10D6717D9BAE35FE1D5E7692"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1365.8804931640625,"pointY":989.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,57.973209381103516]]},{"type":"AddLine","points":[[3.8804931640625,57.973209381103516]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":540.1195068359375,"pointY":29.52667236328125},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":62,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"040E46D90FAD45B9DFE1A5BD687685C1"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.11228942871128,"pointY":605.74740600585938},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"789403D6-F46B-4198-849D-C943466337C2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,219.20379638671875]]},{"type":"AddLine","points":[[4.1122894287112786,219.20379638671875]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":420.88771057128872,"pointY":110.25259399414062},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":223,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"83045E6452E3D50FED5DD0D8ACE221F9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":399.95867919921875,"pointY":761.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"84E3728B-F61B-41F0-B193-86153331296F","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,97.845787048339844]]},{"type":"AddLine","points":[[3.9586791992187784,97.845787048339844]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":174.04132080078122,"pointY":49.01123046875},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":102,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3680EA57506C4C14EE8AF47342B8A0DB"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.07159423828136,"pointY":850.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,62.310703277587891]]},{"type":"AddLine","points":[[3.5715942382813637,62.310703277587891]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":375.92840576171864,"pointY":31.56658935546875},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":66,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"270FD8920E921C902BF8E433993DD821"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1365.8804931640625,"pointY":989.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":135.6195068359375,"pointY":-418.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.1252257680848915,"pointY":-6.749569800592238}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":1},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":0}}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,57.973209381103516]]},{"type":"AddLine","points":[[3.8804931640625,57.973209381103516]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":540.1195068359375,"pointY":29.52667236328125},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"040E46D90FAD45B9DFE1A5BD687685C1"}]}]},"effects":[],"duration":0.5,"type":"buildOut","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB"},{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.11228942871128,"pointY":605.74740600585938},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"789403D6-F46B-4198-849D-C943466337C2","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":782.38771057128872,"pointY":45.752593994140625},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.92590261606069668,"pointY":0.20516858293336604}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":0},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":1}},{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"forwards","duration":0.5,"autoreverses":false,"property":"hidden","to":{"scalar":false},"removedOnCompletion":true}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,219.20379638671875]]},{"type":"AddLine","points":[[4.1122894287112786,219.20379638671875]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":420.88771057128872,"pointY":110.25259399414062},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":223,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"83045E6452E3D50FED5DD0D8ACE221F9"}]}]},"effects":[],"duration":0.5,"type":"buildIn","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"789403D6-F46B-4198-849D-C943466337C2"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"bool try_pop (T& v)","targetRectangle":{"y":41.743751525878906,"x":49.902088165283203,"width":216.63525390625,"height":23}},{"text":"{","targetRectangle":{"y":64.743751525878906,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"    for (;;)","targetRectangle":{"y":87.743751525878906,"x":49.902088165283203,"width":136.822265625,"height":23}},{"text":"    {","targetRectangle":{"y":110.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"        size_t current_pending = pending_head.load (std::memory_order_acquire);","targetRectangle":{"y":133.74375152587891,"x":49.902088165283203,"width":900.74658203125,"height":23}},{"text":"        size_t current_tail = tail.load (std::memory_order_acquire);","targetRectangle":{"y":156.74375152587891,"x":49.902088165283203,"width":775.326171875,"height":23}},{"text":"        if (current_pending == current_tail) \/\/ empty","targetRectangle":{"y":202.74375152587891,"x":49.902088165283203,"width":604.29833984375,"height":23}},{"text":"            return false;","targetRectangle":{"y":225.74375152587891,"x":49.902088165283203,"width":285.04638671875,"height":23}},{"text":"        size_t index = current_pending & (capacity - 1);","targetRectangle":{"y":271.74375152587891,"x":49.902088165283203,"width":638.50390625,"height":23}},{"text":"        \/\/ Try to claim this slot atomically","targetRectangle":{"y":317.74375152587891,"x":49.902088165283203,"width":501.681640625,"height":23}},{"text":"        if (pending_head.compare_exchange_weak (current_pending, current_pending + 1,","targetRectangle":{"y":340.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"                                                std::memory_order_acquire,","targetRectangle":{"y":363.74375152587891,"x":49.902088165283203,"width":843.7373046875,"height":23}},{"text":"                                                std::memory_order_relaxed))","targetRectangle":{"y":386.74375152587891,"x":49.902088165283203,"width":855.13916015625,"height":23}},{"text":"        {","targetRectangle":{"y":409.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"            \/\/ Successfully claimed the slot, now read the data","targetRectangle":{"y":432.74375152587891,"x":49.902088165283203,"width":718.31689453125,"height":23}},{"text":"            v = data[index];","targetRectangle":{"y":455.74375152587891,"x":49.902088165283203,"width":319.251953125,"height":23}},{"text":"            \/\/ Now we need to commit this read","targetRectangle":{"y":501.74375152587891,"x":49.902088165283203,"width":524.4853515625,"height":23}},{"text":"            \/\/ Wait until it's our turn to commit (all previous reads have committed)","targetRectangle":{"y":524.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"            for (;;)","targetRectangle":{"y":547.74375152587891,"x":49.902088165283203,"width":228.037109375,"height":23}},{"text":"            {","targetRectangle":{"y":570.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"                size_t expected_committed = current_pending;","targetRectangle":{"y":593.74375152587891,"x":49.902088165283203,"width":684.111328125,"height":23}},{"text":"                if (committed_head.compare_exchange_weak(expected_committed,","targetRectangle":{"y":616.74375152587891,"x":49.902088165283203,"width":866.541015625,"height":23}},{"text":"                                                         current_pending + 1,","targetRectangle":{"y":639.74375152587891,"x":49.902088165283203,"width":877.94287109375,"height":23}},{"text":"                                                         std::memory_order_release,","targetRectangle":{"y":662.74375152587891,"x":49.902088165283203,"width":946.35400390625,"height":23}},{"text":"                                                         std::memory_order_relaxed))","targetRectangle":{"y":685.74375152587891,"x":49.902088165283203,"width":957.755859375,"height":23}},{"text":"                {","targetRectangle":{"y":708.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                    \/\/ Successfully committed","targetRectangle":{"y":731.74375152587891,"x":49.902088165283203,"width":513.08349609375,"height":23}},{"text":"                    return true;","targetRectangle":{"y":754.74375152587891,"x":49.902088165283203,"width":364.859375,"height":23}},{"text":"                }","targetRectangle":{"y":777.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                \/\/ If CAS failed, it means we're not next in line yet","targetRectangle":{"y":823.74375152587891,"x":49.902088165283203,"width":786.72802734375,"height":23}},{"text":"                \/\/ Keep spinning until committed_head catches up to our position","targetRectangle":{"y":846.74375152587891,"x":49.902088165283203,"width":912.1484375,"height":23}},{"text":"            }","targetRectangle":{"y":869.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"        }","targetRectangle":{"y":892.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"        \/\/ CAS failed, another consumer claimed it. Retry.","targetRectangle":{"y":938.74375152587891,"x":49.902088165283203,"width":661.3076171875,"height":23}},{"text":"    }","targetRectangle":{"y":961.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"}","targetRectangle":{"y":984.74375152587891,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"private:","targetRectangle":{"y":913.2601318359375,"x":784.4114990234375,"width":96.015625,"height":24}},{"text":"    size_t capacity = 0;","targetRectangle":{"y":937.2601318359375,"x":784.4114990234375,"width":288.046875,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> pending_head { 0 };","targetRectangle":{"y":961.2601318359375,"x":784.4114990234375,"width":1092.177734375,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> committed_head { 0 };","targetRectangle":{"y":985.2601318359375,"x":784.4114990234375,"width":1116.181640625,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> tail { 0 };","targetRectangle":{"y":1009.2601318359375,"x":784.4114990234375,"width":996.162109375,"height":24}},{"text":"    std::vector<T> data { std::vector<T> (capacity) };","targetRectangle":{"y":1033.2601318359375,"x":784.4114990234375,"width":648.10546875,"height":24}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":541.9020881652832,"pointY":533.24375152587891},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,982.74372863769531]]},{"type":"AddLine","points":[[6.9020881652832031,982.74372863769531]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":489.0979118347168,"pointY":486.75624847412109},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"2B2AAD579519AFF08785F7F26CA26E84"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1349.4114990234375,"pointY":993.7601318359375},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,160.26012992858887]]},{"type":"AddLine","points":[[6.4114990234375,160.26012992858887]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":562.5885009765625,"pointY":76.2398681640625},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"FFD1B83F10D6717D9BAE35FE1D5E7692"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1365.8804931640625,"pointY":989.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,57.973209381103516]]},{"type":"AddLine","points":[[3.8804931640625,57.973209381103516]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":540.1195068359375,"pointY":29.52667236328125},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"040E46D90FAD45B9DFE1A5BD687685C1"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.11228942871128,"pointY":605.74740600585938},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"789403D6-F46B-4198-849D-C943466337C2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,219.20379638671875]]},{"type":"AddLine","points":[[4.1122894287112786,219.20379638671875]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":420.88771057128872,"pointY":110.25259399414062},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":223,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"83045E6452E3D50FED5DD0D8ACE221F9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":399.95867919921875,"pointY":761.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"84E3728B-F61B-41F0-B193-86153331296F","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,97.845787048339844]]},{"type":"AddLine","points":[[3.9586791992187784,97.845787048339844]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":174.04132080078122,"pointY":49.01123046875},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":102,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3680EA57506C4C14EE8AF47342B8A0DB"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.07159423828136,"pointY":850.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,62.310703277587891]]},{"type":"AddLine","points":[[3.5715942382813637,62.310703277587891]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":375.92840576171864,"pointY":31.56658935546875},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":66,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"270FD8920E921C902BF8E433993DD821"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.11228942871128,"pointY":605.74740600585938},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"789403D6-F46B-4198-849D-C943466337C2","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":782.38771057128872,"pointY":45.752593994140625},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.92590261606069668,"pointY":0.20516858293336604}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":1},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":0}}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,219.20379638671875]]},{"type":"AddLine","points":[[4.1122894287112786,219.20379638671875]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":420.88771057128872,"pointY":110.25259399414062},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"83045E6452E3D50FED5DD0D8ACE221F9"}]}]},"effects":[],"duration":0.5,"type":"buildOut","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"789403D6-F46B-4198-849D-C943466337C2"},{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":399.95867919921875,"pointY":761.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"84E3728B-F61B-41F0-B193-86153331296F","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":735.54132080078125,"pointY":-170.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":2.0955593185207442,"pointY":-1.6763604856004901}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":0},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":1}},{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"forwards","duration":0.5,"autoreverses":false,"property":"hidden","to":{"scalar":false},"removedOnCompletion":true}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,97.845787048339844]]},{"type":"AddLine","points":[[3.9586791992187784,97.845787048339844]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":174.04132080078122,"pointY":49.01123046875},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":102,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3680EA57506C4C14EE8AF47342B8A0DB"}]}]},"effects":[],"duration":0.5,"type":"buildIn","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"84E3728B-F61B-41F0-B193-86153331296F"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"bool try_pop (T& v)","targetRectangle":{"y":41.743751525878906,"x":49.902088165283203,"width":216.63525390625,"height":23}},{"text":"{","targetRectangle":{"y":64.743751525878906,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"    for (;;)","targetRectangle":{"y":87.743751525878906,"x":49.902088165283203,"width":136.822265625,"height":23}},{"text":"    {","targetRectangle":{"y":110.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"        size_t current_pending = pending_head.load (std::memory_order_acquire);","targetRectangle":{"y":133.74375152587891,"x":49.902088165283203,"width":900.74658203125,"height":23}},{"text":"        size_t current_tail = tail.load (std::memory_order_acquire);","targetRectangle":{"y":156.74375152587891,"x":49.902088165283203,"width":775.326171875,"height":23}},{"text":"        if (current_pending == current_tail) \/\/ empty","targetRectangle":{"y":202.74375152587891,"x":49.902088165283203,"width":604.29833984375,"height":23}},{"text":"            return false;","targetRectangle":{"y":225.74375152587891,"x":49.902088165283203,"width":285.04638671875,"height":23}},{"text":"        size_t index = current_pending & (capacity - 1);","targetRectangle":{"y":271.74375152587891,"x":49.902088165283203,"width":638.50390625,"height":23}},{"text":"        \/\/ Try to claim this slot atomically","targetRectangle":{"y":317.74375152587891,"x":49.902088165283203,"width":501.681640625,"height":23}},{"text":"        if (pending_head.compare_exchange_weak (current_pending, current_pending + 1,","targetRectangle":{"y":340.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"                                                std::memory_order_acquire,","targetRectangle":{"y":363.74375152587891,"x":49.902088165283203,"width":843.7373046875,"height":23}},{"text":"                                                std::memory_order_relaxed))","targetRectangle":{"y":386.74375152587891,"x":49.902088165283203,"width":855.13916015625,"height":23}},{"text":"        {","targetRectangle":{"y":409.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"            \/\/ Successfully claimed the slot, now read the data","targetRectangle":{"y":432.74375152587891,"x":49.902088165283203,"width":718.31689453125,"height":23}},{"text":"            v = data[index];","targetRectangle":{"y":455.74375152587891,"x":49.902088165283203,"width":319.251953125,"height":23}},{"text":"            \/\/ Now we need to commit this read","targetRectangle":{"y":501.74375152587891,"x":49.902088165283203,"width":524.4853515625,"height":23}},{"text":"            \/\/ Wait until it's our turn to commit (all previous reads have committed)","targetRectangle":{"y":524.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"            for (;;)","targetRectangle":{"y":547.74375152587891,"x":49.902088165283203,"width":228.037109375,"height":23}},{"text":"            {","targetRectangle":{"y":570.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"                size_t expected_committed = current_pending;","targetRectangle":{"y":593.74375152587891,"x":49.902088165283203,"width":684.111328125,"height":23}},{"text":"                if (committed_head.compare_exchange_weak(expected_committed,","targetRectangle":{"y":616.74375152587891,"x":49.902088165283203,"width":866.541015625,"height":23}},{"text":"                                                         current_pending + 1,","targetRectangle":{"y":639.74375152587891,"x":49.902088165283203,"width":877.94287109375,"height":23}},{"text":"                                                         std::memory_order_release,","targetRectangle":{"y":662.74375152587891,"x":49.902088165283203,"width":946.35400390625,"height":23}},{"text":"                                                         std::memory_order_relaxed))","targetRectangle":{"y":685.74375152587891,"x":49.902088165283203,"width":957.755859375,"height":23}},{"text":"                {","targetRectangle":{"y":708.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                    \/\/ Successfully committed","targetRectangle":{"y":731.74375152587891,"x":49.902088165283203,"width":513.08349609375,"height":23}},{"text":"                    return true;","targetRectangle":{"y":754.74375152587891,"x":49.902088165283203,"width":364.859375,"height":23}},{"text":"                }","targetRectangle":{"y":777.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                \/\/ If CAS failed, it means we're not next in line yet","targetRectangle":{"y":823.74375152587891,"x":49.902088165283203,"width":786.72802734375,"height":23}},{"text":"                \/\/ Keep spinning until committed_head catches up to our position","targetRectangle":{"y":846.74375152587891,"x":49.902088165283203,"width":912.1484375,"height":23}},{"text":"            }","targetRectangle":{"y":869.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"        }","targetRectangle":{"y":892.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"        \/\/ CAS failed, another consumer claimed it. Retry.","targetRectangle":{"y":938.74375152587891,"x":49.902088165283203,"width":661.3076171875,"height":23}},{"text":"    }","targetRectangle":{"y":961.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"}","targetRectangle":{"y":984.74375152587891,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"private:","targetRectangle":{"y":913.2601318359375,"x":784.4114990234375,"width":96.015625,"height":24}},{"text":"    size_t capacity = 0;","targetRectangle":{"y":937.2601318359375,"x":784.4114990234375,"width":288.046875,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> pending_head { 0 };","targetRectangle":{"y":961.2601318359375,"x":784.4114990234375,"width":1092.177734375,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> committed_head { 0 };","targetRectangle":{"y":985.2601318359375,"x":784.4114990234375,"width":1116.181640625,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> tail { 0 };","targetRectangle":{"y":1009.2601318359375,"x":784.4114990234375,"width":996.162109375,"height":24}},{"text":"    std::vector<T> data { std::vector<T> (capacity) };","targetRectangle":{"y":1033.2601318359375,"x":784.4114990234375,"width":648.10546875,"height":24}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":541.9020881652832,"pointY":533.24375152587891},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,982.74372863769531]]},{"type":"AddLine","points":[[6.9020881652832031,982.74372863769531]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":489.0979118347168,"pointY":486.75624847412109},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"2B2AAD579519AFF08785F7F26CA26E84"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1349.4114990234375,"pointY":993.7601318359375},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,160.26012992858887]]},{"type":"AddLine","points":[[6.4114990234375,160.26012992858887]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":562.5885009765625,"pointY":76.2398681640625},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"FFD1B83F10D6717D9BAE35FE1D5E7692"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1365.8804931640625,"pointY":989.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,57.973209381103516]]},{"type":"AddLine","points":[[3.8804931640625,57.973209381103516]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":540.1195068359375,"pointY":29.52667236328125},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":62,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"040E46D90FAD45B9DFE1A5BD687685C1"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.11228942871128,"pointY":605.74740600585938},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"789403D6-F46B-4198-849D-C943466337C2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,219.20379638671875]]},{"type":"AddLine","points":[[4.1122894287112786,219.20379638671875]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":420.88771057128872,"pointY":110.25259399414062},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"83045E6452E3D50FED5DD0D8ACE221F9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":399.95867919921875,"pointY":761.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"84E3728B-F61B-41F0-B193-86153331296F","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,97.845787048339844]]},{"type":"AddLine","points":[[3.9586791992187784,97.845787048339844]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":174.04132080078122,"pointY":49.01123046875},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":102,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3680EA57506C4C14EE8AF47342B8A0DB"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.07159423828136,"pointY":850.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,62.310703277587891]]},{"type":"AddLine","points":[[3.5715942382813637,62.310703277587891]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":375.92840576171864,"pointY":31.56658935546875},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":66,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"270FD8920E921C902BF8E433993DD821"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":399.95867919921875,"pointY":761.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"84E3728B-F61B-41F0-B193-86153331296F","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":735.54132080078125,"pointY":-170.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":2.0955593185207442,"pointY":-1.6763604856004901}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":1},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":0}}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,97.845787048339844]]},{"type":"AddLine","points":[[3.9586791992187784,97.845787048339844]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":174.04132080078122,"pointY":49.01123046875},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3680EA57506C4C14EE8AF47342B8A0DB"}]}]},"effects":[],"duration":0.5,"type":"buildOut","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"84E3728B-F61B-41F0-B193-86153331296F"},{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.07159423828136,"pointY":850.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":736.92840576171864,"pointY":-277.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.9773586283311918,"pointY":-4.2035365249171406}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":0},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":1}},{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"forwards","duration":0.5,"autoreverses":false,"property":"hidden","to":{"scalar":false},"removedOnCompletion":true}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,62.310703277587891]]},{"type":"AddLine","points":[[3.5715942382813637,62.310703277587891]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":375.92840576171864,"pointY":31.56658935546875},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":66,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"270FD8920E921C902BF8E433993DD821"}]}]},"effects":[],"duration":0.5,"type":"buildIn","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"bool try_pop (T& v)","targetRectangle":{"y":41.743751525878906,"x":49.902088165283203,"width":216.63525390625,"height":23}},{"text":"{","targetRectangle":{"y":64.743751525878906,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"    for (;;)","targetRectangle":{"y":87.743751525878906,"x":49.902088165283203,"width":136.822265625,"height":23}},{"text":"    {","targetRectangle":{"y":110.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"        size_t current_pending = pending_head.load (std::memory_order_acquire);","targetRectangle":{"y":133.74375152587891,"x":49.902088165283203,"width":900.74658203125,"height":23}},{"text":"        size_t current_tail = tail.load (std::memory_order_acquire);","targetRectangle":{"y":156.74375152587891,"x":49.902088165283203,"width":775.326171875,"height":23}},{"text":"        if (current_pending == current_tail) \/\/ empty","targetRectangle":{"y":202.74375152587891,"x":49.902088165283203,"width":604.29833984375,"height":23}},{"text":"            return false;","targetRectangle":{"y":225.74375152587891,"x":49.902088165283203,"width":285.04638671875,"height":23}},{"text":"        size_t index = current_pending & (capacity - 1);","targetRectangle":{"y":271.74375152587891,"x":49.902088165283203,"width":638.50390625,"height":23}},{"text":"        \/\/ Try to claim this slot atomically","targetRectangle":{"y":317.74375152587891,"x":49.902088165283203,"width":501.681640625,"height":23}},{"text":"        if (pending_head.compare_exchange_weak (current_pending, current_pending + 1,","targetRectangle":{"y":340.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"                                                std::memory_order_acquire,","targetRectangle":{"y":363.74375152587891,"x":49.902088165283203,"width":843.7373046875,"height":23}},{"text":"                                                std::memory_order_relaxed))","targetRectangle":{"y":386.74375152587891,"x":49.902088165283203,"width":855.13916015625,"height":23}},{"text":"        {","targetRectangle":{"y":409.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"            \/\/ Successfully claimed the slot, now read the data","targetRectangle":{"y":432.74375152587891,"x":49.902088165283203,"width":718.31689453125,"height":23}},{"text":"            v = data[index];","targetRectangle":{"y":455.74375152587891,"x":49.902088165283203,"width":319.251953125,"height":23}},{"text":"            \/\/ Now we need to commit this read","targetRectangle":{"y":501.74375152587891,"x":49.902088165283203,"width":524.4853515625,"height":23}},{"text":"            \/\/ Wait until it's our turn to commit (all previous reads have committed)","targetRectangle":{"y":524.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"            for (;;)","targetRectangle":{"y":547.74375152587891,"x":49.902088165283203,"width":228.037109375,"height":23}},{"text":"            {","targetRectangle":{"y":570.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"                size_t expected_committed = current_pending;","targetRectangle":{"y":593.74375152587891,"x":49.902088165283203,"width":684.111328125,"height":23}},{"text":"                if (committed_head.compare_exchange_weak(expected_committed,","targetRectangle":{"y":616.74375152587891,"x":49.902088165283203,"width":866.541015625,"height":23}},{"text":"                                                         current_pending + 1,","targetRectangle":{"y":639.74375152587891,"x":49.902088165283203,"width":877.94287109375,"height":23}},{"text":"                                                         std::memory_order_release,","targetRectangle":{"y":662.74375152587891,"x":49.902088165283203,"width":946.35400390625,"height":23}},{"text":"                                                         std::memory_order_relaxed))","targetRectangle":{"y":685.74375152587891,"x":49.902088165283203,"width":957.755859375,"height":23}},{"text":"                {","targetRectangle":{"y":708.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                    \/\/ Successfully committed","targetRectangle":{"y":731.74375152587891,"x":49.902088165283203,"width":513.08349609375,"height":23}},{"text":"                    return true;","targetRectangle":{"y":754.74375152587891,"x":49.902088165283203,"width":364.859375,"height":23}},{"text":"                }","targetRectangle":{"y":777.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                \/\/ If CAS failed, it means we're not next in line yet","targetRectangle":{"y":823.74375152587891,"x":49.902088165283203,"width":786.72802734375,"height":23}},{"text":"                \/\/ Keep spinning until committed_head catches up to our position","targetRectangle":{"y":846.74375152587891,"x":49.902088165283203,"width":912.1484375,"height":23}},{"text":"            }","targetRectangle":{"y":869.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"        }","targetRectangle":{"y":892.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"        \/\/ CAS failed, another consumer claimed it. Retry.","targetRectangle":{"y":938.74375152587891,"x":49.902088165283203,"width":661.3076171875,"height":23}},{"text":"    }","targetRectangle":{"y":961.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"}","targetRectangle":{"y":984.74375152587891,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"private:","targetRectangle":{"y":913.2601318359375,"x":784.4114990234375,"width":96.015625,"height":24}},{"text":"    size_t capacity = 0;","targetRectangle":{"y":937.2601318359375,"x":784.4114990234375,"width":288.046875,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> pending_head { 0 };","targetRectangle":{"y":961.2601318359375,"x":784.4114990234375,"width":1092.177734375,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> committed_head { 0 };","targetRectangle":{"y":985.2601318359375,"x":784.4114990234375,"width":1116.181640625,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> tail { 0 };","targetRectangle":{"y":1009.2601318359375,"x":784.4114990234375,"width":996.162109375,"height":24}},{"text":"    std::vector<T> data { std::vector<T> (capacity) };","targetRectangle":{"y":1033.2601318359375,"x":784.4114990234375,"width":648.10546875,"height":24}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":541.9020881652832,"pointY":533.24375152587891},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,982.74372863769531]]},{"type":"AddLine","points":[[6.9020881652832031,982.74372863769531]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":489.0979118347168,"pointY":486.75624847412109},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"2B2AAD579519AFF08785F7F26CA26E84"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1349.4114990234375,"pointY":993.7601318359375},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,160.26012992858887]]},{"type":"AddLine","points":[[6.4114990234375,160.26012992858887]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":562.5885009765625,"pointY":76.2398681640625},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"FFD1B83F10D6717D9BAE35FE1D5E7692"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1365.8804931640625,"pointY":989.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,57.973209381103516]]},{"type":"AddLine","points":[[3.8804931640625,57.973209381103516]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":540.1195068359375,"pointY":29.52667236328125},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":62,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"040E46D90FAD45B9DFE1A5BD687685C1"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.11228942871128,"pointY":605.74740600585938},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"789403D6-F46B-4198-849D-C943466337C2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,219.20379638671875]]},{"type":"AddLine","points":[[4.1122894287112786,219.20379638671875]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":420.88771057128872,"pointY":110.25259399414062},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":223,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"83045E6452E3D50FED5DD0D8ACE221F9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":399.95867919921875,"pointY":761.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"84E3728B-F61B-41F0-B193-86153331296F","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,97.845787048339844]]},{"type":"AddLine","points":[[3.9586791992187784,97.845787048339844]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":174.04132080078122,"pointY":49.01123046875},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3680EA57506C4C14EE8AF47342B8A0DB"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.07159423828136,"pointY":850.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,62.310703277587891]]},{"type":"AddLine","points":[[3.5715942382813637,62.310703277587891]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":375.92840576171864,"pointY":31.56658935546875},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":66,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"270FD8920E921C902BF8E433993DD821"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.07159423828136,"pointY":850.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":736.92840576171864,"pointY":-277.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.9773586283311918,"pointY":-4.2035365249171406}},"layers":[{"animations":[{"additive":false,"timeOffset":0,"beginTime":1e-100,"repeatCount":0,"fillMode":"both","duration":0.5,"autoreverses":false,"animations":[{"repeatCount":0,"removedOnCompletion":true,"from":{"scalar":1},"timingFunction":"EaseInEaseOut","additive":false,"timeOffset":0,"autoreverses":false,"property":"opacity","fillMode":"both","duration":0.5,"beginTime":0,"to":{"scalar":0}}],"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,62.310703277587891]]},{"type":"AddLine","points":[[3.5715942382813637,62.310703277587891]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":375.92840576171864,"pointY":31.56658935546875},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"270FD8920E921C902BF8E433993DD821"}]}]},"effects":[],"duration":0.5,"type":"buildOut","attributes":{"direction":0},"name":"apple:dissolve character","objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"bool try_pop (T& v)","targetRectangle":{"y":41.743751525878906,"x":49.902088165283203,"width":216.63525390625,"height":23}},{"text":"{","targetRectangle":{"y":64.743751525878906,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"    for (;;)","targetRectangle":{"y":87.743751525878906,"x":49.902088165283203,"width":136.822265625,"height":23}},{"text":"    {","targetRectangle":{"y":110.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"        size_t current_pending = pending_head.load (std::memory_order_acquire);","targetRectangle":{"y":133.74375152587891,"x":49.902088165283203,"width":900.74658203125,"height":23}},{"text":"        size_t current_tail = tail.load (std::memory_order_acquire);","targetRectangle":{"y":156.74375152587891,"x":49.902088165283203,"width":775.326171875,"height":23}},{"text":"        if (current_pending == current_tail) \/\/ empty","targetRectangle":{"y":202.74375152587891,"x":49.902088165283203,"width":604.29833984375,"height":23}},{"text":"            return false;","targetRectangle":{"y":225.74375152587891,"x":49.902088165283203,"width":285.04638671875,"height":23}},{"text":"        size_t index = current_pending & (capacity - 1);","targetRectangle":{"y":271.74375152587891,"x":49.902088165283203,"width":638.50390625,"height":23}},{"text":"        \/\/ Try to claim this slot atomically","targetRectangle":{"y":317.74375152587891,"x":49.902088165283203,"width":501.681640625,"height":23}},{"text":"        if (pending_head.compare_exchange_weak (current_pending, current_pending + 1,","targetRectangle":{"y":340.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"                                                std::memory_order_acquire,","targetRectangle":{"y":363.74375152587891,"x":49.902088165283203,"width":843.7373046875,"height":23}},{"text":"                                                std::memory_order_relaxed))","targetRectangle":{"y":386.74375152587891,"x":49.902088165283203,"width":855.13916015625,"height":23}},{"text":"        {","targetRectangle":{"y":409.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"            \/\/ Successfully claimed the slot, now read the data","targetRectangle":{"y":432.74375152587891,"x":49.902088165283203,"width":718.31689453125,"height":23}},{"text":"            v = data[index];","targetRectangle":{"y":455.74375152587891,"x":49.902088165283203,"width":319.251953125,"height":23}},{"text":"            \/\/ Now we need to commit this read","targetRectangle":{"y":501.74375152587891,"x":49.902088165283203,"width":524.4853515625,"height":23}},{"text":"            \/\/ Wait until it's our turn to commit (all previous reads have committed)","targetRectangle":{"y":524.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"            for (;;)","targetRectangle":{"y":547.74375152587891,"x":49.902088165283203,"width":228.037109375,"height":23}},{"text":"            {","targetRectangle":{"y":570.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"                size_t expected_committed = current_pending;","targetRectangle":{"y":593.74375152587891,"x":49.902088165283203,"width":684.111328125,"height":23}},{"text":"                if (committed_head.compare_exchange_weak(expected_committed,","targetRectangle":{"y":616.74375152587891,"x":49.902088165283203,"width":866.541015625,"height":23}},{"text":"                                                         current_pending + 1,","targetRectangle":{"y":639.74375152587891,"x":49.902088165283203,"width":877.94287109375,"height":23}},{"text":"                                                         std::memory_order_release,","targetRectangle":{"y":662.74375152587891,"x":49.902088165283203,"width":946.35400390625,"height":23}},{"text":"                                                         std::memory_order_relaxed))","targetRectangle":{"y":685.74375152587891,"x":49.902088165283203,"width":957.755859375,"height":23}},{"text":"                {","targetRectangle":{"y":708.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                    \/\/ Successfully committed","targetRectangle":{"y":731.74375152587891,"x":49.902088165283203,"width":513.08349609375,"height":23}},{"text":"                    return true;","targetRectangle":{"y":754.74375152587891,"x":49.902088165283203,"width":364.859375,"height":23}},{"text":"                }","targetRectangle":{"y":777.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                \/\/ If CAS failed, it means we're not next in line yet","targetRectangle":{"y":823.74375152587891,"x":49.902088165283203,"width":786.72802734375,"height":23}},{"text":"                \/\/ Keep spinning until committed_head catches up to our position","targetRectangle":{"y":846.74375152587891,"x":49.902088165283203,"width":912.1484375,"height":23}},{"text":"            }","targetRectangle":{"y":869.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"        }","targetRectangle":{"y":892.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"        \/\/ CAS failed, another consumer claimed it. Retry.","targetRectangle":{"y":938.74375152587891,"x":49.902088165283203,"width":661.3076171875,"height":23}},{"text":"    }","targetRectangle":{"y":961.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"}","targetRectangle":{"y":984.74375152587891,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"private:","targetRectangle":{"y":913.2601318359375,"x":784.4114990234375,"width":96.015625,"height":24}},{"text":"    size_t capacity = 0;","targetRectangle":{"y":937.2601318359375,"x":784.4114990234375,"width":288.046875,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> pending_head { 0 };","targetRectangle":{"y":961.2601318359375,"x":784.4114990234375,"width":1092.177734375,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> committed_head { 0 };","targetRectangle":{"y":985.2601318359375,"x":784.4114990234375,"width":1116.181640625,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> tail { 0 };","targetRectangle":{"y":1009.2601318359375,"x":784.4114990234375,"width":996.162109375,"height":24}},{"text":"    std::vector<T> data { std::vector<T> (capacity) };","targetRectangle":{"y":1033.2601318359375,"x":784.4114990234375,"width":648.10546875,"height":24}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":true,"singleTextureOpacity":1,"textureType":1,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F9A0A76BAF2A9879A1DAA8312FE7E552"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":541.9020881652832,"pointY":533.24375152587891},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,8.7437515258789062]]},{"type":"AddLine","points":[[985.05979919433594,982.74372863769531]]},{"type":"AddLine","points":[[6.9020881652832031,982.74372863769531]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.9020881652832031,8.7437515258789062]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":489.0979118347168,"pointY":486.75624847412109},"width":992,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":991,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"2B2AAD579519AFF08785F7F26CA26E84"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1349.4114990234375,"pointY":993.7601318359375},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,8.2601318359375]]},{"type":"AddLine","points":[[1131.5931739807129,160.26012992858887]]},{"type":"AddLine","points":[[6.4114990234375,160.26012992858887]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[6.4114990234375,8.2601318359375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":562.5885009765625,"pointY":76.2398681640625},"width":1138,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":169,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"FFD1B83F10D6717D9BAE35FE1D5E7692"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1365.8804931640625,"pointY":989.47332763671875},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":62,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"9A002C53-6667-45B6-95EE-ED8A907A83FB","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,3.97332763671875]]},{"type":"AddLine","points":[[1078.9139404296875,57.973209381103516]]},{"type":"AddLine","points":[[3.8804931640625,57.973209381103516]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.8804931640625,3.97332763671875]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":540.1195068359375,"pointY":29.52667236328125},"width":1083,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":62,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"040E46D90FAD45B9DFE1A5BD687685C1"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.11228942871128,"pointY":605.74740600585938},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":223,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"789403D6-F46B-4198-849D-C943466337C2","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,3.747406005859375]]},{"type":"AddLine","points":[[841.11424255371094,219.20379638671875]]},{"type":"AddLine","points":[[4.1122894287112786,219.20379638671875]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[4.1122894287112786,3.747406005859375]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":420.88771057128872,"pointY":110.25259399414062},"width":845,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":223,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"83045E6452E3D50FED5DD0D8ACE221F9"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":399.95867919921875,"pointY":761.98876953125},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":102,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"84E3728B-F61B-41F0-B193-86153331296F","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,4.48876953125]]},{"type":"AddLine","points":[[346.97976684570312,97.845787048339844]]},{"type":"AddLine","points":[[3.9586791992187784,97.845787048339844]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.9586791992187784,4.48876953125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":174.04132080078122,"pointY":49.01123046875},"width":351,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":102,"hidden":true,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3680EA57506C4C14EE8AF47342B8A0DB"}]}]},{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":600.07159423828136,"pointY":850.43341064453125},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"11AACA9C-216A-4CB9-86A5-9D92036B18E6","layers":[{"animations":[],"layers":[],"texturedRectangle":{"singleTextureOpacity":1,"textXHeight":0,"shapePath":{"lineWidth":1,"flatness":0.59999999999999998,"lineCapStyle":0,"elements":[{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,3.93341064453125]]},{"type":"AddLine","points":[[750.49566650390625,62.310703277587891]]},{"type":"AddLine","points":[[3.5715942382813637,62.310703277587891]]},{"type":"CloseSubpath"},{"type":"MoveToPoint","points":[[3.5715942382813637,3.93341064453125]]}],"windingRule":0,"lineJoinStyle":0,"miterLimit":10},"isBackgroundTexture":true,"textBaseline":0,"isVerticalText":false,"textureType":5},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":375.92840576171864,"pointY":31.56658935546875},"width":754,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":66,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"270FD8920E921C902BF8E433993DD821"}]}]}]}},{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"DCFE5E7A57A19B18BCE1593941562925"},{"animations":[{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"both","duration":0.001,"autoreverses":false,"property":"hidden","to":{"scalar":true},"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"4428071C46AFBF5A94F6E42E1C8B351D"}]}]},"effects":[],"duration":0.001,"type":"transition","attributes":{"direction":0},"name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"bool try_pop (T& v)","targetRectangle":{"y":41.743751525878906,"x":49.902088165283203,"width":216.63525390625,"height":23}},{"text":"{","targetRectangle":{"y":64.743751525878906,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"    for (;;)","targetRectangle":{"y":87.743751525878906,"x":49.902088165283203,"width":136.822265625,"height":23}},{"text":"    {","targetRectangle":{"y":110.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"        size_t current_pending = pending_head.load (std::memory_order_acquire);","targetRectangle":{"y":133.74375152587891,"x":49.902088165283203,"width":900.74658203125,"height":23}},{"text":"        size_t current_tail = tail.load (std::memory_order_acquire);","targetRectangle":{"y":156.74375152587891,"x":49.902088165283203,"width":775.326171875,"height":23}},{"text":"        if (current_pending == current_tail) \/\/ empty","targetRectangle":{"y":202.74375152587891,"x":49.902088165283203,"width":604.29833984375,"height":23}},{"text":"            return false;","targetRectangle":{"y":225.74375152587891,"x":49.902088165283203,"width":285.04638671875,"height":23}},{"text":"        size_t index = current_pending & (capacity - 1);","targetRectangle":{"y":271.74375152587891,"x":49.902088165283203,"width":638.50390625,"height":23}},{"text":"        \/\/ Try to claim this slot atomically","targetRectangle":{"y":317.74375152587891,"x":49.902088165283203,"width":501.681640625,"height":23}},{"text":"        if (pending_head.compare_exchange_weak (current_pending, current_pending + 1,","targetRectangle":{"y":340.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"                                                std::memory_order_acquire,","targetRectangle":{"y":363.74375152587891,"x":49.902088165283203,"width":843.7373046875,"height":23}},{"text":"                                                std::memory_order_relaxed))","targetRectangle":{"y":386.74375152587891,"x":49.902088165283203,"width":855.13916015625,"height":23}},{"text":"        {","targetRectangle":{"y":409.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"            \/\/ Successfully claimed the slot, now read the data","targetRectangle":{"y":432.74375152587891,"x":49.902088165283203,"width":718.31689453125,"height":23}},{"text":"            v = data[index];","targetRectangle":{"y":455.74375152587891,"x":49.902088165283203,"width":319.251953125,"height":23}},{"text":"            \/\/ Now we need to commit this read","targetRectangle":{"y":501.74375152587891,"x":49.902088165283203,"width":524.4853515625,"height":23}},{"text":"            \/\/ Wait until it's our turn to commit (all previous reads have committed)","targetRectangle":{"y":524.74375152587891,"x":49.902088165283203,"width":969.15771484375,"height":23}},{"text":"            for (;;)","targetRectangle":{"y":547.74375152587891,"x":49.902088165283203,"width":228.037109375,"height":23}},{"text":"            {","targetRectangle":{"y":570.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"                size_t expected_committed = current_pending;","targetRectangle":{"y":593.74375152587891,"x":49.902088165283203,"width":684.111328125,"height":23}},{"text":"                if (committed_head.compare_exchange_weak(expected_committed,","targetRectangle":{"y":616.74375152587891,"x":49.902088165283203,"width":866.541015625,"height":23}},{"text":"                                                         current_pending + 1,","targetRectangle":{"y":639.74375152587891,"x":49.902088165283203,"width":877.94287109375,"height":23}},{"text":"                                                         std::memory_order_release,","targetRectangle":{"y":662.74375152587891,"x":49.902088165283203,"width":946.35400390625,"height":23}},{"text":"                                                         std::memory_order_relaxed))","targetRectangle":{"y":685.74375152587891,"x":49.902088165283203,"width":957.755859375,"height":23}},{"text":"                {","targetRectangle":{"y":708.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                    \/\/ Successfully committed","targetRectangle":{"y":731.74375152587891,"x":49.902088165283203,"width":513.08349609375,"height":23}},{"text":"                    return true;","targetRectangle":{"y":754.74375152587891,"x":49.902088165283203,"width":364.859375,"height":23}},{"text":"                }","targetRectangle":{"y":777.74375152587891,"x":49.902088165283203,"width":193.83154296875,"height":23}},{"text":"                \/\/ If CAS failed, it means we're not next in line yet","targetRectangle":{"y":823.74375152587891,"x":49.902088165283203,"width":786.72802734375,"height":23}},{"text":"                \/\/ Keep spinning until committed_head catches up to our position","targetRectangle":{"y":846.74375152587891,"x":49.902088165283203,"width":912.1484375,"height":23}},{"text":"            }","targetRectangle":{"y":869.74375152587891,"x":49.902088165283203,"width":148.22412109375,"height":23}},{"text":"        }","targetRectangle":{"y":892.74375152587891,"x":49.902088165283203,"width":102.61669921875,"height":23}},{"text":"        \/\/ CAS failed, another consumer claimed it. Retry.","targetRectangle":{"y":938.74375152587891,"x":49.902088165283203,"width":661.3076171875,"height":23}},{"text":"    }","targetRectangle":{"y":961.74375152587891,"x":49.902088165283203,"width":57.00927734375,"height":23}},{"text":"}","targetRectangle":{"y":984.74375152587891,"x":49.902088165283203,"width":11.40185546875,"height":23}},{"text":"private:","targetRectangle":{"y":913.2601318359375,"x":784.4114990234375,"width":96.015625,"height":24}},{"text":"    size_t capacity = 0;","targetRectangle":{"y":937.2601318359375,"x":784.4114990234375,"width":288.046875,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> pending_head { 0 };","targetRectangle":{"y":961.2601318359375,"x":784.4114990234375,"width":1092.177734375,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> committed_head { 0 };","targetRectangle":{"y":985.2601318359375,"x":784.4114990234375,"width":1116.181640625,"height":24}},{"text":"    alignas(hardware_destructive_interference_size) std::atomic<size_t> tail { 0 };","targetRectangle":{"y":1009.2601318359375,"x":784.4114990234375,"width":996.162109375,"height":24}},{"text":"    std::vector<T> data { std::vector<T> (capacity) };","targetRectangle":{"y":1033.2601318359375,"x":784.4114990234375,"width":648.10546875,"height":24}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"4428071C46AFBF5A94F6E42E1C8B351D"}]}]}}]}